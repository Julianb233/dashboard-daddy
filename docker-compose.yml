services:
  vibe-kanban:
    image: node:20-alpine
    restart: unless-stopped
    working_dir: /data
    command: sh -lc "HOST=0.0.0.0 PORT=3000 npx -y vibe-kanban"
    volumes:
      - vibe_kanban_data:/data
      # optional: mount where your git repos live on the VPS
      # - /srv/repos:/srv/repos
    networks:
      - root_default
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.vibe-kanban.rule=Host(`claude.dashboard-daddy.com`)"
      - "traefik.http.routers.vibe-kanban.entrypoints=websecure"
      - "traefik.http.routers.vibe-kanban.tls=true"
      - "traefik.http.services.vibe-kanban.loadbalancer.server.port=3000"

volumes:
  vibe_kanban_data:

networks:
  root_default:
    external: true
