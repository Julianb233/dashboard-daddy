version: '3.8'

services:
  bubba-kanban:
    image: dashboard-daddy:latest
    restart: unless-stopped
    environment:
      - NODE_ENV=production
      - NEXT_PUBLIC_SUPABASE_URL=https://jrirksdiklqwsaatbhvg.supabase.co
      - NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpyaXJrc2Rpa2xxd3NhYXRiaHZnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkwMTI5NjYsImV4cCI6MjA2NDU4ODk2Nn0.mb1VQ9eOiRTyOMAu5f9OTYh6V7ialfkzr8DPylvA4vk
    networks:
      - root_default
      - web
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.bubba-kanban.rule=Host(`d.dashboard-daddy.com`)"
      - "traefik.http.routers.bubba-kanban.entrypoints=websecure"
      - "traefik.http.routers.bubba-kanban.tls=true"
      - "traefik.http.services.bubba-kanban.loadbalancer.server.port=3000"

networks:
  root_default:
    external: true
  web:
    external: true